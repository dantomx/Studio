<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Confronto AJAX</title>
</head>
<body>
<h2>Messaggio:</h2>
<div id="output">Clicca un bottone</div>

<br><br>

<button onclick="caricaConXHR()">AJAX con XMLHttpRequest</button>
<button onclick="caricaConFetch()">AJAX con fetch()</button>

<script>
    // ðŸ”¹ Metodo 1: XMLHttpRequest (classico)
    function caricaConXHR() {
        const xhr = new XMLHttpRequest();
        xhr.onload = function() {
            if (xhr.status === 200) {
                document.getElementById("output").innerHTML = xhr.responseText;
            } else {
                document.getElementById("output").innerHTML = "Errore con XHR.";
            }
        };
        xhr.open("GET", "messaggio.php", true);
        xhr.send();
    }

    // ðŸ”¹ Metodo 2: fetch() (moderno)
    function caricaConFetch() {
        fetch("messaggio.php")
            .then(response => {
                if (!response.ok) throw new Error("Errore fetch");
                return response.text();
            })
            .then(data => {
                document.getElementById("output").innerHTML = data;
            })
            .catch(error => {
                document.getElementById("output").innerHTML = "Errore con fetch: " + error;
            });
    }
</script>
</body>
</html>
